// ============================================================================
// ANGULAR MATERIAL CUSTOM THEME - TEPIZON PLATFORM
// ============================================================================
// Theme personalizado con los colores de marca y tipografía Inter
// Compatible con Angular 20 y Material 3
// ============================================================================

@use '@angular/material' as mat;
@use 'tokens' as *;

// ============================================================================
// CONFIGURACIÓN DE TIPOGRAFÍA INTER
// ============================================================================

// Definir niveles de tipografía Material con Inter
$tepizon-typography: mat.define-typography-config(
  $font-family: $font-family-base,
  $headline-1: mat.define-typography-level(
    $font-size: font-size('5xl'),
    $line-height: 1.2,
    $font-weight: $font-weight-bold,
    $letter-spacing: -0.02em,
  ),
  $headline-2: mat.define-typography-level(
    $font-size: font-size('4xl'),
    $line-height: 1.25,
    $font-weight: $font-weight-bold,
    $letter-spacing: -0.01em,
  ),
  $headline-3: mat.define-typography-level(
    $font-size: font-size('3xl'),
    $line-height: 1.3,
    $font-weight: $font-weight-semibold,
  ),
  $headline-4: mat.define-typography-level(
    $font-size: font-size('2xl'),
    $line-height: 1.35,
    $font-weight: $font-weight-semibold,
  ),
  $headline-5: mat.define-typography-level(
    $font-size: font-size('xl'),
    $line-height: 1.4,
    $font-weight: $font-weight-semibold,
  ),
  $headline-6: mat.define-typography-level(
    $font-size: font-size('lg'),
    $line-height: 1.5,
    $font-weight: $font-weight-medium,
  ),
  $subtitle-1: mat.define-typography-level(
    $font-size: font-size('base'),
    $line-height: 1.5,
    $font-weight: $font-weight-medium,
  ),
  $subtitle-2: mat.define-typography-level(
    $font-size: font-size('sm'),
    $line-height: 1.5,
    $font-weight: $font-weight-medium,
  ),
  $body-1: mat.define-typography-level(
    $font-size: font-size('base'),
    $line-height: 1.5,
    $font-weight: $font-weight-regular,
  ),
  $body-2: mat.define-typography-level(
    $font-size: font-size('sm'),
    $line-height: 1.5,
    $font-weight: $font-weight-regular,
  ),
  $button: mat.define-typography-level(
    $font-size: font-size('base'),
    $line-height: 1,
    $font-weight: $font-weight-medium,
    $letter-spacing: 0.02em,
  ),
  $caption: mat.define-typography-level(
    $font-size: font-size('xs'),
    $line-height: 1.4,
    $font-weight: $font-weight-regular,
  ),
  $overline: mat.define-typography-level(
    $font-size: font-size('xs'),
    $line-height: 1.4,
    $font-weight: $font-weight-medium,
    $letter-spacing: 0.1em,
  ),
);

// ============================================================================
// PALETAS DE COLORES MATERIAL
// ============================================================================

// Paleta Primary (Verde oscuro)
$tepizon-primary: (
  50: $primary-50,
  100: $primary-100,
  200: $primary-200,
  300: $primary-300,
  400: $primary-400,
  500: $primary-500,
  600: $primary-600,
  700: $primary-700,
  800: $primary-800,
  900: $primary-900,
  1000: $primary-1000,
  contrast: (
    50: $neutral-1000,
    100: $neutral-1000,
    200: $neutral-1000,
    300: $neutral-0,
    400: $neutral-0,
    500: $neutral-0,
    600: $neutral-0,
    700: $neutral-0,
    800: $neutral-0,
    900: $neutral-0,
    1000: $neutral-0,
  )
);

// Paleta Accent (Púrpura)
$tepizon-accent: (
  50: $accent-50,
  100: $accent-100,
  200: $accent-200,
  300: $accent-300,
  400: $accent-400,
  500: $accent-500,
  600: $accent-600,
  700: $accent-700,
  800: $accent-800,
  900: $accent-900,
  1000: $accent-1000,
  contrast: (
    50: $neutral-1000,
    100: $neutral-1000,
    200: $neutral-1000,
    300: $neutral-0,
    400: $neutral-0,
    500: $neutral-0,
    600: $neutral-0,
    700: $neutral-0,
    800: $neutral-0,
    900: $neutral-0,
    1000: $neutral-0,
  )
);

// Paleta Warn (Error)
$tepizon-warn: (
  50: $error-lighter,
  100: $error-lighter,
  200: $error-light,
  300: $error-light,
  400: $error-light,
  500: $error,
  600: $error,
  700: $error-dark,
  800: $error-dark,
  900: $error-dark,
  contrast: (
    50: $neutral-1000,
    100: $neutral-1000,
    200: $neutral-1000,
    300: $neutral-0,
    400: $neutral-0,
    500: $neutral-0,
    600: $neutral-0,
    700: $neutral-0,
    800: $neutral-0,
    900: $neutral-0,
  )
);

// ============================================================================
// THEMES LIGHT & DARK
// ============================================================================

// Theme Light (por defecto)
$tepizon-light-theme: mat.define-light-theme((
  color: (
    primary: mat.define-palette($tepizon-primary, 1000, 800, 500),
    accent: mat.define-palette($tepizon-accent, 1000, 800, 500),
    warn: mat.define-palette($tepizon-warn, 500, 700, 300),
  ),
  typography: $tepizon-typography,
  density: 0,
));

// Theme Dark
$tepizon-dark-theme: mat.define-dark-theme((
  color: (
    primary: mat.define-palette($tepizon-primary, 300, 200, 500),
    accent: mat.define-palette($tepizon-accent, 300, 200, 500),
    warn: mat.define-palette($tepizon-warn, 300, 200, 500),
  ),
  typography: $tepizon-typography,
  density: 0,
));

// ============================================================================
// APLICAR THEMES
// ============================================================================

// Include Material core styles
@include mat.core();

// Light theme (por defecto)
@include mat.all-component-themes($tepizon-light-theme);
@include mat.all-component-typographies($tepizon-typography);

// Dark theme (con clase .dark-theme)
.dark-theme {
  @include mat.all-component-colors($tepizon-dark-theme);
  
  // Ajustes adicionales para dark mode
  background-color: $neutral-900;
  color: $neutral-0;
}

// ============================================================================
// CUSTOMIZACIONES ADICIONALES DE COMPONENTES
// ============================================================================

// Buttons
.mat-mdc-button,
.mat-mdc-raised-button,
.mat-mdc-outlined-button,
.mat-mdc-flat-button {
  border-radius: radius('base') !important;
  text-transform: none;
  letter-spacing: normal;
  
  &.mat-primary {
    &:hover:not(:disabled) {
      transform: translateY(-1px);
      box-shadow: shadow('md');
    }
  }
}

// Cards
.mat-mdc-card {
  border-radius: radius('lg') !important;
  box-shadow: shadow('base') !important;
  transition: all $transition-speed-base $transition-timing;
  
  &:hover {
    box-shadow: shadow('lg') !important;
    transform: translateY(-2px);
  }
}

// Form fields
.mat-mdc-form-field {
  .mat-mdc-text-field-wrapper {
    border-radius: radius('base');
  }
  
  &.mat-focused {
    .mat-mdc-text-field-wrapper {
      .mat-mdc-form-field-focus-overlay {
        opacity: 0.1;
      }
    }
  }
}

// Inputs
.mat-mdc-input-element {
  font-family: $font-family-base !important;
  
  &::placeholder {
    color: $neutral-500;
  }
}

// Chips
.mat-mdc-chip {
  border-radius: radius('full') !important;
  font-family: $font-family-base !important;
  font-weight: $font-weight-medium !important;
}

// Dialogs
.mat-mdc-dialog-container {
  border-radius: radius('xl') !important;
  
  .mat-mdc-dialog-surface {
    border-radius: radius('xl') !important;
  }
}

// Snackbars
.mat-mdc-snack-bar-container {
  border-radius: radius('lg') !important;
  
  &.success-snackbar {
    --mdc-snackbar-container-color: #{$success};
  }
  
  &.error-snackbar {
    --mdc-snackbar-container-color: #{$error};
  }
  
  &.warning-snackbar {
    --mdc-snackbar-container-color: #{$warning};
  }
  
  &.info-snackbar {
    --mdc-snackbar-container-color: #{$info};
  }
}

// Tooltips
.mat-mdc-tooltip {
  font-family: $font-family-base !important;
  font-size: font-size('xs') !important;
  border-radius: radius('base') !important;
}

// Tabs
.mat-mdc-tab-group {
  .mat-mdc-tab {
    font-family: $font-family-base !important;
    font-weight: $font-weight-medium !important;
    text-transform: none;
  }
}

// Progress bars
.mat-mdc-progress-bar {
  border-radius: radius('full') !important;
}

// Steppers
.mat-stepper-horizontal,
.mat-stepper-vertical {
  .mat-step-header {
    .mat-step-icon {
      background-color: $primary-1000;
    }
    
    .mat-step-icon-selected {
      background-color: $primary-700;
    }
  }
}

// Select
.mat-mdc-select-panel {
  border-radius: radius('lg') !important;
}

// Menu
.mat-mdc-menu-panel {
  border-radius: radius('lg') !important;
  box-shadow: shadow('xl') !important;
}

// Slide toggle
.mat-mdc-slide-toggle {
  .mdc-switch__track {
    border-radius: radius('full') !important;
  }
}

// Checkbox & Radio
.mat-mdc-checkbox,
.mat-mdc-radio-button {
  .mdc-checkbox__background,
  .mdc-radio__outer-circle {
    border-color: $neutral-400;
  }
}

// ============================================================================
// UTILIDADES DE THEME
// ============================================================================

// Clase helper para texto con color primario
.text-primary {
  color: $primary-1000 !important;
}

.text-accent {
  color: $accent-1000 !important;
}

.text-secondary {
  color: $secondary-1000 !important;
}

// Clase helper para background
.bg-primary {
  background-color: $primary-1000 !important;
  color: $neutral-0 !important;
}

.bg-accent {
  background-color: $accent-1000 !important;
  color: $neutral-0 !important;
}

.bg-surface {
  background-color: $neutral-0 !important;
}

// Elevaciones
@for $i from 0 through 5 {
  .elevation-#{$i} {
    @if $i == 0 {
      box-shadow: none !important;
    } @else if $i == 1 {
      box-shadow: shadow('xs') !important;
    } @else if $i == 2 {
      box-shadow: shadow('sm') !important;
    } @else if $i == 3 {
      box-shadow: shadow('base') !important;
    } @else if $i == 4 {
      box-shadow: shadow('lg') !important;
    } @else if $i == 5 {
      box-shadow: shadow('xl') !important;
    }
  }
}
